<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Â· ONet.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ONet.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../manual/">Manual</a></li><li class="current"><a class="toctext" href>API</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Private-API-1">Private API</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API</a></li></ul><a class="edit-page" href="https://github.com/uva-bi-sdad/ONet.jl/blob/master/docs/src/api.md"><span class="fa">ï‚›</span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-API-1" href="#Public-API-1">Public API</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.ONet" href="#ONet.ONet"><code>ONet.ONet</code></a> â€” <span class="docstring-category">Module</span>.</div><div><div><pre><code class="language-julia">ONet</code></pre><p>Application to upload the ONet data to the database.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/ONet.jl#L1-L4">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.onet!-Tuple{}" href="#ONet.onet!-Tuple{}"><code>ONet.onet!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">onet!()</code></pre><p>Runs the application to refresh all the data in the database.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/03_main.jl#L118-L121">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.sdad_setup!-Tuple{}" href="#ONet.sdad_setup!-Tuple{}"><code>ONet.sdad_setup!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">sdad_setup!(;db_user::AbstractString = &quot;&quot;,
             db_pwd::AbstractString = &quot;&quot;,
             token::AbstractString = &quot;&quot;)</code></pre><p>This function writes the configurations to <code>confs/config.simple</code></p><p><strong>Arguments</strong></p><ul><li><code>db_user</code>: Your username for the <code>postgis_2</code> <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;ns=onet">database</a> (i.e., your UVA computing ID).</li><li><code>db_pwd</code>: The password for the <code>postgis_2</code> <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;ns=onet">database</a>.</li><li><code>onet_auth</code>: Basic authentication <a href="https://services.onetcenter.org/developer/">token</a> for the O*Net REST API.</li></ul><p><strong>Examples</strong></p><p><strong>Good!</strong></p><pre><code class="language-none">julia&gt; sdad_setup!(db_user = &quot;jbs3hp&quot;,
                   db_pwd = &quot;MyVerySafePwd&quot;,
                   onet_auth = &quot;ASZ1QqATfYXdOLFnr6EVfxyHymx4kTGMLQgXCs==&quot;)
ðŸ˜ƒ</code></pre><p><strong>Incomplete!</strong></p><pre><code class="language-none">julia&gt; sdad_setup!(db_user = &quot;jbs3hp&quot;,
                   db_pwd = &quot;MyVerySafePwd&quot;)
Warning: github_login has not been defined.
ðŸ˜ž</code></pre><p><strong>Updating the configuration file.</strong></p><pre><code class="language-none">julia&gt; using ONet
julia&gt; sdad_setup!(db_user = &quot;jbs3hp&quot;,
                   db_pwd = &quot;MyVerySafePwd&quot;,
                   onet_auth = &quot;ASZ1QqATfYXdOLFnr6EVfxyHymx4kTGMLQgXCs==&quot;)
julia&gt; exit()
&gt; julia
julia&gt; using ONet # config up-to-date</code></pre><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>Updating the configuration file requires a restart of the session.</p></div></div></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L2-L38">source</a></section><h1><a class="nav-anchor" id="Private-API-1" href="#Private-API-1">Private API</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.db_host" href="#ONet.db_host"><code>ONet.db_host</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">db_host = &quot;postgis_2&quot;</code></pre><p>Host for the <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;schema=onet">database</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L94-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.db_port" href="#ONet.db_port"><code>ONet.db_port</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">db_port = 5432</code></pre><p>Port for the <code>postgis_2</code> in the <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;schema=onet">database</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L99-L102">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.db_pwd" href="#ONet.db_pwd"><code>ONet.db_pwd</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">db_pwd::String</code></pre><p>The password for the <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;ns=onet">database</a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L77-L80">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.db_user" href="#ONet.db_user"><code>ONet.db_user</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">db_user::String</code></pre><p>The username for the <a href="http://sdad.policy-analytics.net:8080/?pgsql=postgis_2&amp;db=sdad_data&amp;ns=onet">database</a> (i.e., your UVA computing ID).</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L72-L75">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.dbname" href="#ONet.dbname"><code>ONet.dbname</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">dbname = &quot;sdad_data&quot;</code></pre><p>Database for the SDAD data.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L104-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.headers" href="#ONet.headers"><code>ONet.headers</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">headers = [&quot;Authorization&quot; =&gt; &quot;Basic $onet_auth&quot;,
           &quot;Accept&quot; =&gt; &quot;application/json&quot;]</code></pre><p>Headers to be passed to the ONet REST API.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L87-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.onet_auth" href="#ONet.onet_auth"><code>ONet.onet_auth</code></a> â€” <span class="docstring-category">Constant</span>.</div><div><div><pre><code class="language-julia">onet_auth::String</code></pre><p>The application O*Net basic authentication token.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/01_config.jl#L82-L85">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.createtable!-Tuple{AbstractString}" href="#ONet.createtable!-Tuple{AbstractString}"><code>ONet.createtable!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">createtable!(name)</code></pre><p>Creates a table in the database based on the O*NET API specification.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/03_main.jl#L2-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.dbconnect-Tuple{}" href="#ONet.dbconnect-Tuple{}"><code>ONet.dbconnect</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">dbconnect()::Connection</code></pre><p>Returns a connection to the burning<em>glass database in postgis</em>2.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/02_db.jl#L2-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.drop_duplicates!-Tuple{AbstractString}" href="#ONet.drop_duplicates!-Tuple{AbstractString}"><code>ONet.drop_duplicates!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">drop_duplicates!(name::AbstractString)</code></pre><p>Drop duplicate records from the table.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/02_db.jl#L38-L41">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.isdone-Tuple{AbstractString}" href="#ONet.isdone-Tuple{AbstractString}"><code>ONet.isdone</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">isdone(name::AbstractString)::Bool</code></pre><p>Are all available records for that table in the database?</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/02_db.jl#L51-L54">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.onettable-Tuple{Any}" href="#ONet.onettable-Tuple{Any}"><code>ONet.onettable</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">onettable(table)</code></pre><p>Given a table node, it returns a row with the table information.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/03_main.jl#L24-L27">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.onettables!-Tuple{}" href="#ONet.onettables!-Tuple{}"><code>ONet.onettables!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">onettables!()</code></pre><p>Uploads a <code>_metadata</code> table to the database.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/03_main.jl#L50-L53">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.processtable!-Tuple{AbstractString}" href="#ONet.processtable!-Tuple{AbstractString}"><code>ONet.processtable!</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">processtable!(name::AbstractString)</code></pre><p>Adds the table data to the database.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/03_main.jl#L84-L87">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ONet.varschema-Tuple{Any}" href="#ONet.varschema-Tuple{Any}"><code>ONet.varschema</code></a> â€” <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">varschema(variable)::String</code></pre><p>Returns a suitable schema for the database declaration from the table information.</p></div></div><a class="source-link" target="_blank" href="https://github.com/uva-bi-sdad/ONet.jl/blob/f374a0685f8eecb9ac684a19a4864ba68b38d73b/src/02_db.jl#L15-L18">source</a></section><footer><hr/><a class="previous" href="../manual/"><span class="direction">Previous</span><span class="title">Manual</span></a></footer></article></body></html>
